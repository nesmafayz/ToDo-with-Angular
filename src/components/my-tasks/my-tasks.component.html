<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-xl-12 col-md-10 col-lg-8">
            <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                <input type="text" placeholder="Add New Task ..." class="form-control me-2 mb-2 mb-md-0" [(ngModel)]="obj.taskName">
                <input type="date" placeholder="Due Date" class="form-control me-2 mb-2 mb-md-0" [(ngModel)]="obj.dueDate">
                <div>
                    <ng-container *ngIf="obj.itemId === 0; else updateButton">
                        <button class="btn btn-primary" (click)="AddNewTask()">Add</button>
                    </ng-container>
                    <ng-template #updateButton>
                        <button class="btn btn-warning" (click)="UpdateTask()">Update</button>
                    </ng-template>
                </div>
            </div>
            <table class="table table-hover">
                <thead>
                    <tr class="table-active">
                        <th scope="col">Number of Task</th>
                        <th scope="col">Task</th>
                        <th scope="col" class="text-end">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-primary" *ngFor="let task of tasks; let i = index">
                        <th scope="row">{{i + 1}}</th>
                        <td>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="flexCheckDefault{{i}}" [checked]="task.isCompleted" (change)="toggleOfCompleteTask(task)">
                                <label class="form-check-label" for="flexCheckDefault{{i}}" [ngClass]="{'completed': task.isCompleted}">
                                    {{task.taskName}} | {{task.dueDate | date}}
                                </label>
                            </div>
                        </td>
                        <td class="text-end">
                            <div class="d-flex flex-column flex-md-row">
                                <button class="btn btn-warning me-2 mb-2 mb-md-0" (click)="editTask(task)">Update</button>
                                <button class="btn btn-danger me-2 mb-2 mb-md-0" (click)="DeleteTask(task.itemId)">Delete</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
